(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(94)},49:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(12),o=a.n(r),l=(a(49),a(6)),c=a(7),i=a(9),u=a(8),m=a(10),p=a(5),d=a.n(p),b=a(42),g=a(21),_=a(22),v=a.n(_),h=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1,agents:[],payable:"",expense:0,borrowers:[],purpose:"",book_name:a.props.book_name},a.options=[],a.handleSubmit=function(e){e.preventDefault(),console.log(a.state),d.a.post("/api/transaction",{book_name:a.state.book_name,payable_user:a.state.payable,expense:a.state.expense,borrowers:a.state.borrowers,purpose:a.state.purpose})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"validateState",value:function(){var e=this.state.payable,t=this.state.expense,a=this.state.borrowers,n=this.state.purpose;return""===e?"error":0===t?"error":a===[]?"error":""===n?"error":void 0}},{key:"componentDidMount",value:function(){var e=this;d.a.get("/api/book/".concat(this.props.book_name)).then(function(t){e.setState(t.data);var a=[];for(var n in console.log(t.data.agents),t.data.agents)a=[].concat(Object(b.a)(a),[{value:t.data.agents[n],label:t.data.agents[n]}]);e.options=a})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(g.a,{className:"col s6",closeMenuOnSelect:!1,options:this.options,onChange:function(t){e.setState({payable:t.map(function(e){return e.value})})},components:v()(),isMulti:!0}),s.a.createElement("div",{className:"input-field col s6"},s.a.createElement("input",{placeholder:"Name",id:"first_name",type:"number",class:"validate",onChange:function(t){return e.setState({expense:t.target.value})}}),s.a.createElement("label",{for:"first_name"},"Expense")),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{placeholder:"Name",id:"first_name",type:"text",class:"validate",onChange:function(t){return e.setState({purpose:t.target.value})}}),s.a.createElement("label",{for:"first_name"},"Purpose")),s.a.createElement(g.a,{className:"col s9",closeMenuOnSelect:!1,options:this.options,onChange:function(t){e.setState({borrowers:t.map(function(e){return e.value})})},components:v()(),isMulti:!0}),s.a.createElement("button",{className:"waves-effect waves-light btn col s3",onClick:this.handleSubmit},"button")))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={transaction:[],open:!1,current_book:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/api/transaction/".concat(this.props.book_name)).then(function(t){e.setState({transaction:t.data,current_book:e.props.book_name})})}},{key:"render",value:function(){var e=this,t=this.state.open?s.a.createElement("div",null,s.a.createElement("button",{className:"btn-floating btn-small waves-effect waves-light red",onClick:function(){return e.setState({open:!e.state.open})}},s.a.createElement("i",{className:"material-icons"},"close")),s.a.createElement(h,{book_name:this.state.current_book})):s.a.createElement("button",{className:"btn-floating btn-small waves-effect waves-light red",onClick:function(){return e.setState({open:!e.state.open})}},s.a.createElement("i",{className:"material-icons"},"add")),a=this.state.transaction;console.log(this.state);var n=a.map(function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,e.payable_user),s.a.createElement("td",null,e.purpose),s.a.createElement("td",null,e.expense))}),r=this.state.current_book?s.a.createElement("div",null,s.a.createElement("h1",{className:"center blue-text text-darken-2"},"Transactions"),s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"highlight"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"blue-text"},"Payable User"),s.a.createElement("td",{className:"blue-text"},"Purpose"),s.a.createElement("td",{className:"blue-text"},"expense"))),s.a.createElement("tbody",null,n)),s.a.createElement("br",null),t)):s.a.createElement("div",null,s.a.createElement("h4",{className:"center blue-text"},"Signin to a Book"));return s.a.createElement("div",null,r)}}]),t}(n.Component),f=a(97),k=a(95),w=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"not implemented yet.")}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={signup_book:"",signup_book_password:"",loggingin_book:"",loggingin_book_password:"",signup_user:"",signup_user_password:"",signin_user:"",signin_user_password:"",current_user:"",current_book:""},a.signin_book=function(e){d.a.post("/api/verify_book",{book_name:a.state.loggingin_book,password:a.state.loggingin_book_password}).then(function(e){console.log(e),0!==e.data.length?(a.setState({current_book:e.data[0].book_name}),a.props.get_current_book(a.state.current_book),d.a.post("/api/push_user",{user_name:a.state.current_user,book_name:a.state.current_book})):alert("Wrong book or password")})},a.signup_book=function(e){d.a.post("/api/book",{book_name:a.state.signup_book,agents:[a.state.current_user],password:a.state.signup_book_password}).then(function(e){console.log(e)})},a.signin_user=function(e){d.a.post("api/user/",{user_name:a.state.signin_user,password:a.state.signin_user_password}).then(function(e){console.log(e),0!==e.data.length?(a.setState({current_user:e.data[0].user_name}),console.log(a.state)):alert("Wrong User or password")})},a.signup_user=function(e){d.a.post("/api/",{user_name:a.state.signup_user,password:a.state.signup_user_password}).then(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("h5",{className:"col s6"},"Create New Book")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s6"},s.a.createElement("label",{for:"book_name"},"Book Name"),s.a.createElement("input",{placeholder:"Book Name",id:"book_name",type:"text",className:"validate",onChange:function(t){e.setState({signup_book:t.target.value})}})),s.a.createElement("div",{className:"col s5"},s.a.createElement("label",{for:"password_signup"},"Password"),s.a.createElement("input",{placeholder:"Password",id:"password_signup",type:"text",className:"validate",onChange:function(t){e.setState({signup_book_password:t.target.value})}})),s.a.createElement("div",{className:"btn-floating btn-small waves-effect waves-light red",onClick:this.signup_book},s.a.createElement("i",{className:"material-icons"},"add"))),s.a.createElement("div",{className:"row"},s.a.createElement("h5",{className:"col s6"},"Signin to a Book")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s6"},s.a.createElement("label",{for:"book_name"},"Book Name"),s.a.createElement("input",{placeholder:"Book Name",id:"book_name",type:"text",className:"validate",onChange:function(t){e.setState({loggingin_book:t.target.value})}})),s.a.createElement("div",{className:"col s5"},s.a.createElement("label",{for:"password_signin"},"Password"),s.a.createElement("input",{placeholder:"Password",id:"password_signin",type:"text",className:"validate",onChange:function(t){e.setState({loggingin_book_password:t.target.value})}})),s.a.createElement("button",{className:"btn-floating btn-small waves-effect waves-light red",onClick:this.signin_book},s.a.createElement("i",{className:"material-icons"},"add"))),s.a.createElement("div",{className:"row"},s.a.createElement("h5",{className:"col s6"},"Create New User")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s6"},s.a.createElement("label",{for:"user_signup"},"User Name"),s.a.createElement("input",{placeholder:"User Name",id:"user_signup",type:"text",className:"validate",onChange:function(t){e.setState({signup_user:t.target.value})}})),s.a.createElement("div",{className:"col s5"},s.a.createElement("label",{for:"signup_user_password"},"Password"),s.a.createElement("input",{placeholder:"Password",id:"signup_user_password",type:"text",className:"validate",onChange:function(t){e.setState({signup_user_password:t.target.value})}})),s.a.createElement("div",{className:"btn-floating btn-small waves-effect waves-light red",onClick:this.signup_user},s.a.createElement("i",{className:"material-icons"},"add"))),s.a.createElement("div",{className:"row"},s.a.createElement("h5",{className:"col s6"},"Signin User")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s6"},s.a.createElement("label",{for:"signin_user"},"User Name"),s.a.createElement("input",{placeholder:"Book Name",id:"signin_user",type:"text",className:"validate",onChange:function(t){e.setState({signin_user:t.target.value})}})),s.a.createElement("div",{className:"col s5"},s.a.createElement("label",{for:"signin_user_password"},"Password"),s.a.createElement("input",{placeholder:"Password",id:"signin_user_password",type:"text",className:"validate",onChange:function(t){e.setState({signin_user_password:t.target.value})}})),s.a.createElement("div",{className:"btn-floating btn-small waves-effect waves-light red",onClick:this.signin_user},s.a.createElement("i",{className:"material-icons"},"add"))))}}]),t}(n.Component),y=a(92),O=a(96),j=function(){return s.a.createElement("nav",{className:"nav-wrapper blue darken-3"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"brand-logo left"},"Trip Ledger"),s.a.createElement("ul",{className:"right"},s.a.createElement("li",null,s.a.createElement(y.a,{to:"/"},"Home")),s.a.createElement("li",null,s.a.createElement(O.a,{to:"/transaction"},"Transactions")),s.a.createElement("li",null,s.a.createElement(O.a,{to:"/stats"},"Stats")))))},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={current_user:"",current_book:""},a.get_current_book=function(e){a.setState({current_book:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(f.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(j,null),s.a.createElement(k.a,{exact:!0,path:"/",render:function(t){return s.a.createElement(N,Object.assign({},t,{get_current_book:e.get_current_book}))}}),s.a.createElement(k.a,{path:"/transaction",render:function(t){return s.a.createElement(E,Object.assign({},t,{book_name:e.state.current_book}))}}),s.a.createElement(k.a,{path:"/stats",component:w})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,2,1]]]);
//# sourceMappingURL=main.2482e69a.chunk.js.map